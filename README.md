The python files and jupyter notebook generate and analyze the data for 3 species motifs. To change the density of spatial and/or non-spatial paramter samples, edit the corresponding 'constants' in init.py. Briefly, the files have the following purposes:
- init.py: Initialize dataspace, namely, separate file locations for each non-spatial (trophic) parameter sample.
- project.py: Generate and store dynamical behavior (True -> pattern forming, False -> stable) at each combination of trophic and dispersal parameters. 
- robustness.py: Calculate the robustness of pattern forming dynamics after project.py has been run to generate the raw data.
- global_functions.py: Helper functions shared by data generation and analysis scripts.
- analysis.ipynb: Jupyter notebook for visualizing the results; contains code to generate Figures 2 and 3 in the paper.
Data shared across scripts, e.g. the values of spatial parameter samples, are stored in shared_data.h5 generated by init.py. To allow for efficient analysis of all feasible dispersal responses, we take advantage of the invariance of dynamical behavior with respect to the magnitude of the dispersal rate vector. Thus, we employ a sampling scheme (in init.py) in spherical coordinates, and a helper function to convert between cartesian and spherical coordinates (spherical_to_cartesian) in global_functions.py. Note that the food web motifs considered are labeled as 'modules' in the code. 

To reproduce the results shown in the paper, first you will need to [install the data management package signac](https://docs.signac.io/en/latest/installation.html). You will also need a few standard dependencies, namely: numpy, scipy, itertools, and, if you wish to solve for the dynamical behavior symbolically (very slow), sympy. Then, run the following commands in order:
- python init.py
- python project.py run -o generate_surface (to run in parallel, specify -p number_of_cores)
- python robustness.py 
Finally, open analysis.ipynb to generate figures. 

To generate and plot the data for the large (N>3) food webs, simply run the Julia script large_random_metacom.jl. 
